# coding: utf-8
from __future__ import unicode_literals

from django.core.management.base import BaseCommand

from core.hx import update_ease_user, create_new_ease_user
from core.models import PartyUser

NEW_TOKEN = 'ZGBKrriEYvaXsiJjaQuhq5yntpl8ewWdxu7nRmTAhzSCkZGNket92Bf3dFbMIgLj'


class Command(BaseCommand):
    def handle(self, *args, **options):
        fail_list = []
        user_list = [u'426044', u'425224', u'1005', u'1010', u'425178', u'424948', u'425777', u'426118', u'1011',
                     u'424947', u'1004', u'424949', u'426153', u'424951', u'424952', u'425027',
                     u'425770', u'426548', u'1002', u'426321', u'426180', u'426424', u'426598', u'425591', u'425017',
                     u'426492', u'425736', u'424957', u'426117', u'426599', u'426319', u'425920', u'425742', u'426375',
                     u'425028', u'426574', u'426282', u'425419', u'425612', u'424965', u'426489', u'425932', u'426344',
                     u'426603', u'426069', u'424969', u'425860', u'425278', u'426430', u'426572', u'426576', u'425590',
                     u'426064', u'1003', u'426029', u'425332', u'425677', u'425553', u'426318', u'1006', u'424975',
                     u'425130', u'425029', u'1007', u'1009', u'424978', u'1012', u'425482', u'424982', u'425292',
                     u'426063', u'1001', u'425297', u'425004', u'1000', u'425018', u'425020', u'425026', u'425031',
                     u'425032', u'425054',
                     u'425059', u'405080', u'425087', u'425115', u'425181', u'425155', u'425157', u'425162', u'425207',
                     u'425203', u'425204', u'425206', u'425212', u'425214', u'425217', u'425221', u'425228', u'425230',
                     u'425234', u'425236', u'425227', u'425240', u'425263', u'425305', u'425317', u'425348', u'425350',
                     u'425355', u'425346', u'425403', u'425418', u'425428', u'425441', u'425453', u'425438', u'425451',
                     u'425468', u'425485', u'425517', u'425593', u'425627', u'425615', u'425633', u'425735', u'425779',
                     u'425964', u'425983']
        for user in user_list:
            if not create_new_ease_user(user, user, NEW_TOKEN):
                fail_list.append(user)
        print fail_list
